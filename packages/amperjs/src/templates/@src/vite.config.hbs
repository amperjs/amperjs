import { join } from "node:path";

import devPlugin, { apiGenerator, fetchGenerator } from "@amperjs/dev";

import defineConfig from "../vite.base";
import { apiurl, baseurl } from "./config";

export default defineConfig(import.meta.dirname, {
  base: join(baseurl, "/"),
  server: {
    port: {{folder.port}},
  },
  plugins: [
    devPlugin(apiurl, {
      generators: [apiGenerator(), fetchGenerator()],
    }),
  ],
});
